
%INCLUDE_QPS
%QUALIFIEDNAMES

% Annotated example from Simula Standard sect. 7.3.1

begin comment S1;
      ref(C1) X1;
      class C1;
      begin procedure P1; detach;
            P1;
      end C1;
      ref(C2) X2;
      class C2;
      begin procedure P2;
            begin detach;
                    ! - see fig. 7.7;
            end P2;
            begin comment system S2;
                  ref(C3) X3;
                  class C3;
                  begin detach;
                        P2;
                  end C3;
                  X3:- new C3;
                  resume(X3)
            end S2;
      end C2;
      X1:- new C1;
      X2:- new C2;
      call(X2);
end S1;